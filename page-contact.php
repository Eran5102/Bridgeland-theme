<?php get_header(); ?>

<section class="contact-hero py-5" style="padding-top: 120px; background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%); position: relative;">
    <!-- Subtle background pattern -->
    <div class="hero-pattern" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; opacity: 0.03; background-image: url('data:image/svg+xml,<svg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"><g fill=\"none\" fill-rule=\"evenodd\"><g fill=\"%23B91C1C\" fill-opacity=\"0.1\"><circle cx=\"7\" cy=\"7\" r=\"1\"/><circle cx=\"53\" cy=\"53\" r=\"1\"/><circle cx=\"30\" cy=\"30\" r=\"2\"/></g></svg>');\"></div>

    <div class="container position-relative">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4 fw-bold mb-4 text-dark" style="font-family: 'Source Serif Pro', serif;">Contact Us</h1>
                <p class="lead mb-4 text-secondary" style="font-family: 'Inter', sans-serif;">
                    Ready to discuss your valuation and financial advisory needs?
                    Let's schedule a consultation to explore how we can help your business succeed.
                </p>

                <div class="contact-highlights row g-4 justify-content-center mb-4">
                    <div class="col-md-4">
                        <div class="highlight text-center bg-white rounded-4 shadow-sm p-4">
                            <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 50px; height: 50px;">
                                <i class="fas fa-clock text-primary"></i>
                            </div>
                            <div class="fw-semibold text-dark">2-Hour Response</div>
                            <small class="text-muted">During business hours</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="highlight text-center bg-white rounded-4 shadow-sm p-4">
                            <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 50px; height: 50px;">
                                <i class="fas fa-shield-alt text-primary"></i>
                            </div>
                            <div class="fw-semibold text-dark">Confidential</div>
                            <small class="text-muted">All consultations</small>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="highlight text-center bg-white rounded-4 shadow-sm p-4">
                            <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 50px; height: 50px;">
                                <i class="fas fa-handshake text-primary"></i>
                            </div>
                            <div class="fw-semibold text-dark">No Obligation</div>
                            <small class="text-muted">Free consultation</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Methods -->
<section class="contact-methods py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="contact-method-card card h-100 border-0 shadow-sm text-center">
                    <div class="card-body p-4 d-flex flex-column">
                        <div class="contact-icon bg-primary bg-opacity-10 rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-phone text-primary fa-lg"></i>
                        </div>
                        <h4 class="h5 mb-3">Phone Call</h4>
                        <p class="text-muted mb-3 flex-grow-1">Speak directly with Eran for immediate assistance</p>
                        <div class="contact-info mb-3">
                            <div class="fw-bold text-primary">+1 (215) 313-3224</div>
                            <div class="small text-muted">US-based clients</div>
                        </div>
                        <a href="tel:+12153133224" class="btn btn-primary w-100 mt-auto">
                            <i class="fas fa-phone me-2"></i>Call Now
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="contact-method-card card h-100 border-0 shadow-sm text-center">
                    <div class="card-body p-4 d-flex flex-column">
                        <div class="contact-icon bg-success bg-opacity-10 rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fab fa-whatsapp text-success fa-lg"></i>
                        </div>
                        <h4 class="h5 mb-3">WhatsApp</h4>
                        <p class="text-muted mb-3 flex-grow-1">Quick chat for immediate questions and support</p>
                        <div class="contact-info mb-3">
                            <div class="fw-bold text-success">+1 (215) 313-3224</div>
                            <div class="small text-muted">Instant messaging available</div>
                        </div>
                        <a href="https://wa.me/12153133224?text=Hi%20Eran,%20I'm%20interested%20in%20your%20financial%20advisory%20services."
                           target="_blank" class="btn btn-success w-100 mt-auto">
                            <i class="fab fa-whatsapp me-2"></i>Start Chat
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="contact-method-card card h-100 border-0 shadow-sm text-center">
                    <div class="card-body p-4 d-flex flex-column">
                        <div class="contact-icon bg-info bg-opacity-10 rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-envelope text-info fa-lg"></i>
                        </div>
                        <h4 class="h5 mb-3">Email</h4>
                        <p class="text-muted mb-3 flex-grow-1">Detailed inquiries and document sharing</p>
                        <div class="contact-info mb-3">
                            <div class="fw-bold text-info">eran@bridgeland-advisors.com</div>
                            <div class="small text-muted">Response within 2 hours</div>
                        </div>
                        <a href="mailto:eran@bridgeland-advisors.com?subject=Consultation Request" class="btn btn-info w-100 mt-auto">
                            <i class="fas fa-envelope me-2"></i>Send Email
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-3 col-md-6">
                <div class="contact-method-card card h-100 border-0 shadow-sm text-center">
                    <div class="card-body p-4 d-flex flex-column">
                        <div class="contact-icon bg-warning bg-opacity-10 rounded-circle p-3 mx-auto mb-3" style="width: 60px; height: 60px;">
                            <i class="fas fa-video text-warning fa-lg"></i>
                        </div>
                        <h4 class="h5 mb-3">Online Meeting</h4>
                        <p class="text-muted mb-3 flex-grow-1">Schedule a video consultation at your convenience</p>
                        <div class="contact-info mb-3">
                            <div class="fw-bold text-warning">Video Conference</div>
                            <div class="small text-muted">Available worldwide</div>
                        </div>
                        <a href="javascript:void(0)" onclick="return openCalendly();" class="btn btn-warning w-100 mt-auto">
                            <i class="fas fa-calendar-alt me-2"></i>Schedule Meeting
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Multi-Step Contact Form -->
<section class="contact-form-section py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="form-card card border-0 shadow-sm">
                    <div class="card-header bg-white border-0 p-4">
                        <h3 class="text-center text-primary mb-3">Schedule Your Consultation</h3>
                        <p class="text-center text-muted mb-0">
                            Tell us about your project so we can provide the most relevant guidance
                        </p>
                    </div>

                    <div class="card-body p-4">
                        <!-- Progress Indicator -->
                        <div class="progress-steps mb-4">
                            <div class="d-flex justify-content-between align-items-center">
                                <div class="step active" id="step-indicator-1">
                                    <div class="step-number">1</div>
                                    <div class="step-label">Service</div>
                                </div>
                                <div class="step-line"></div>
                                <div class="step" id="step-indicator-2">
                                    <div class="step-number">2</div>
                                    <div class="step-label">Details</div>
                                </div>
                                <div class="step-line"></div>
                                <div class="step" id="step-indicator-3">
                                    <div class="step-number">3</div>
                                    <div class="step-label">Contact</div>
                                </div>
                            </div>
                        </div>

                        <form id="multi-step-contact-form" action="<?php echo admin_url('admin-ajax.php'); ?>" method="POST">
                            <input type="hidden" name="action" value="bridgeland_contact">
                            <?php wp_nonce_field('bridgeland_nonce', 'nonce'); ?>

                            <!-- Step 1: Service Selection -->
                            <div class="form-step active" id="step-1">
                                <h4 class="mb-4">What service are you interested in?</h4>

                                <div class="service-options">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="409a-valuation" id="service-409a" required>
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-409a">
                                                <i class="fas fa-gavel fa-lg mb-2 d-block"></i>
                                                <strong>409A Valuation</strong>
                                                <div class="small text-muted">IRS-compliant equity valuation</div>
                                            </label>
                                        </div>

                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="company-valuation" id="service-company">
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-company">
                                                <i class="fas fa-building fa-lg mb-2 d-block"></i>
                                                <strong>Company Valuation</strong>
                                                <div class="small text-muted">Business valuation for M&A</div>
                                            </label>
                                        </div>

                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="waterfall-analysis" id="service-waterfall">
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-waterfall">
                                                <i class="fas fa-water fa-lg mb-2 d-block"></i>
                                                <strong>Waterfall Analysis</strong>
                                                <div class="small text-muted">Exit scenario modeling</div>
                                            </label>
                                        </div>

                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="capital-raising" id="service-capital">
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-capital">
                                                <i class="fas fa-handshake fa-lg mb-2 d-block"></i>
                                                <strong>Capital Raising</strong>
                                                <div class="small text-muted">Fundraising advisory</div>
                                            </label>
                                        </div>

                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="financial-modeling" id="service-modeling">
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-modeling">
                                                <i class="fas fa-calculator fa-lg mb-2 d-block"></i>
                                                <strong>Financial Modeling</strong>
                                                <div class="small text-muted">Custom financial models</div>
                                            </label>
                                        </div>

                                        <div class="col-md-6">
                                            <input type="radio" class="btn-check" name="service" value="other" id="service-other">
                                            <label class="btn btn-outline-primary w-100 p-3" for="service-other">
                                                <i class="fas fa-question fa-lg mb-2 d-block"></i>
                                                <strong>Other / Not Sure</strong>
                                                <div class="small text-muted">Let's discuss your needs</div>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-end mt-4">
                                    <button type="button" class="btn btn-primary" onclick="nextStep()">
                                        Next <i class="fas fa-arrow-right ms-2"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2: Project Details -->
                            <div class="form-step" id="step-2">
                                <h4 class="mb-4">Tell us about your project</h4>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="company-name">Company Name</label>
                                        <input type="text" class="form-control" id="company-name" name="company" required>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="industry">Industry</label>
                                        <select class="form-select" id="industry" name="industry" required>
                                            <option value="">Select Industry</option>
                                            <option value="technology">Technology / Software</option>
                                            <option value="healthcare">Healthcare / Biotech</option>
                                            <option value="fintech">Fintech / Financial Services</option>
                                            <option value="ecommerce">E-commerce / Retail</option>
                                            <option value="manufacturing">Manufacturing</option>
                                            <option value="professional-services">Professional Services</option>
                                            <option value="real-estate">Real Estate</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="company-stage">Company Stage</label>
                                        <select class="form-select" id="company-stage" name="stage" required>
                                            <option value="">Select Stage</option>
                                            <option value="pre-seed">Pre-Seed</option>
                                            <option value="seed">Seed</option>
                                            <option value="series-a">Series A</option>
                                            <option value="series-b">Series B</option>
                                            <option value="series-c-plus">Series C+</option>
                                            <option value="growth-stage">Growth Stage</option>
                                            <option value="mature">Mature</option>
                                        </select>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="timeline">Preferred Timeline</label>
                                        <select class="form-select" id="timeline" name="timeline" required>
                                            <option value="">Select Timeline</option>
                                            <option value="urgent">Urgent (1-2 weeks)</option>
                                            <option value="standard">Standard (2-4 weeks)</option>
                                            <option value="flexible">Flexible (4+ weeks)</option>
                                        </select>
                                    </div>

                                    <div class="col-12">
                                        <label class="form-label" for="project-details">Project Details</label>
                                        <textarea class="form-control" id="project-details" name="message" rows="4"
                                                  placeholder="Please provide additional context about your project, specific requirements, or any questions you have..."></textarea>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" class="btn btn-outline-primary" onclick="prevStep()">
                                        <i class="fas fa-arrow-left me-2"></i>Back
                                    </button>
                                    <button type="button" class="btn btn-primary" onclick="nextStep()">
                                        Next <i class="fas fa-arrow-right ms-2"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3: Contact Information -->
                            <div class="form-step" id="step-3">
                                <h4 class="mb-4">Your contact information</h4>

                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="contact-name">Full Name *</label>
                                        <input type="text" class="form-control" id="contact-name" name="name" required>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="job-title">Job Title</label>
                                        <input type="text" class="form-control" id="job-title" name="title"
                                               placeholder="e.g., CEO, CFO, Founder">
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="contact-email">Email Address *</label>
                                        <input type="email" class="form-control" id="contact-email" name="email" required>
                                    </div>

                                    <div class="col-md-6">
                                        <label class="form-label" for="contact-phone">Phone Number</label>
                                        <input type="tel" class="form-control" id="contact-phone" name="phone"
                                               placeholder="Include country code">
                                    </div>

                                    <div class="col-12">
                                        <label class="form-label" for="preferred-contact">Preferred Contact Method</label>
                                        <div class="contact-preferences d-flex gap-3 flex-wrap">
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="contact-method" value="email" id="prefer-email" checked>
                                                <label class="form-check-label" for="prefer-email">
                                                    <i class="fas fa-envelope me-1"></i>Email
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="contact-method" value="phone" id="prefer-phone">
                                                <label class="form-check-label" for="prefer-phone">
                                                    <i class="fas fa-phone me-1"></i>Phone
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input" type="radio" name="contact-method" value="whatsapp" id="prefer-whatsapp">
                                                <label class="form-check-label" for="prefer-whatsapp">
                                                    <i class="fab fa-whatsapp me-1"></i>WhatsApp
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-12">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" id="privacy-consent" name="privacy-consent" required>
                                            <label class="form-check-label small" for="privacy-consent">
                                                I agree to the <a href="<?php echo home_url('/privacy-policy/'); ?>" target="_blank">Privacy Policy</a>
                                                and consent to being contacted about my inquiry.
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" class="btn btn-outline-primary" onclick="prevStep()">
                                        <i class="fas fa-arrow-left me-2"></i>Back
                                    </button>
                                    <button type="submit" class="btn btn-primary" id="submit-btn">
                                        <i class="fas fa-paper-plane me-2"></i>Send Consultation Request
                                    </button>
                                </div>
                            </div>

                            <!-- Form Response -->
                            <div class="form-response d-none" id="form-response">
                                <div class="text-center">
                                    <div class="response-icon bg-success bg-opacity-10 rounded-circle p-4 mx-auto mb-3" style="width: 80px; height: 80px;">
                                        <i class="fas fa-check-circle text-success fa-2x"></i>
                                    </div>
                                    <h4 class="text-success mb-3">Thank You!</h4>
                                    <p class="text-muted mb-4">
                                        Your consultation request has been received. Eran will respond within 2 hours
                                        during business hours (9 AM - 6 PM IST).
                                    </p>
                                    <div class="next-steps bg-light p-3 rounded">
                                        <h6 class="mb-2">What happens next?</h6>
                                        <ul class="list-unstyled small mb-0">
                                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Review of your consultation request</li>
                                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Initial call to understand your needs</li>
                                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Custom proposal and timeline</li>
                                            <li class="mb-0"><i class="fas fa-check text-success me-2"></i>Project kickoff and execution</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Office Information -->
<section class="office-info py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h3 class="mb-4">Visit Our Office</h3>
                <div class="office-details">
                    <div class="detail-item d-flex align-items-start mb-3">
                        <i class="fas fa-map-marker-alt text-primary me-3 mt-1"></i>
                        <div>
                            <h6 class="mb-1">Address</h6>
                            <p class="text-muted mb-0">
                                19 Ner Halayla St.<br>
                                Even Yehuda, Israel
                            </p>
                        </div>
                    </div>

                    <div class="detail-item d-flex align-items-start mb-3">
                        <i class="fas fa-clock text-primary me-3 mt-1"></i>
                        <div>
                            <h6 class="mb-1">Business Hours</h6>
                            <div class="text-muted small">
                                <div>Sunday - Thursday: 9:00 AM - 6:00 PM</div>
                                <div>Friday: 9:00 AM - 2:00 PM</div>
                                <div>Saturday: Closed</div>
                                <div class="mt-1"><em>Israel Standard Time (GMT+3)</em></div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-item d-flex align-items-start mb-3">
                        <i class="fas fa-phone text-primary me-3 mt-1"></i>
                        <div>
                            <h6 class="mb-1">Contact Numbers</h6>
                            <div class="text-muted small">
                                <div class="mb-1"><strong>US Clients:</strong> +1 (215) 313-3224</div>
                                <div class="mb-1"><strong>International:</strong> +972-50-6842937</div>
                                <div class="mt-1"><em>Available during business hours</em></div>
                            </div>
                        </div>
                    </div>

                    <div class="detail-item d-flex align-items-start mb-3">
                        <i class="fas fa-calendar-alt text-primary me-3 mt-1"></i>
                        <div>
                            <h6 class="mb-1">Appointments</h6>
                            <p class="text-muted mb-0">
                                In-person meetings available by appointment only.
                                Video consultations available worldwide.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="map-container bg-light rounded overflow-hidden">
                    <div id="office-map" style="height: 350px; width: 100%;">
                        <!-- Google Maps will load here -->
                    </div>
                    <div class="map-footer p-3 bg-white text-center">
                        <small class="text-muted">Bridgeland Advisors Office Location</small>
                        <div class="mt-2">
                            <a href="https://maps.google.com/?q=19+Ner+Halayla+St,+Even+Yehuda,+Israel"
                               target="_blank" class="btn btn-outline-primary btn-sm">
                                <i class="fas fa-external-link-alt me-2"></i>Open in Google Maps
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
let currentStep = 1;
const totalSteps = 3;

function nextStep() {
    if (validateCurrentStep()) {
        if (currentStep < totalSteps) {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-indicator-${currentStep}`).classList.remove('active');
            document.getElementById(`step-indicator-${currentStep}`).classList.add('completed');

            currentStep++;
            document.getElementById(`step-${currentStep}`).classList.add('active');
            document.getElementById(`step-indicator-${currentStep}`).classList.add('active');
        }
    }
}

function prevStep() {
    if (currentStep > 1) {
        document.getElementById(`step-${currentStep}`).classList.remove('active');
        document.getElementById(`step-indicator-${currentStep}`).classList.remove('active');

        currentStep--;
        document.getElementById(`step-${currentStep}`).classList.add('active');
        document.getElementById(`step-indicator-${currentStep}`).classList.remove('completed');
        document.getElementById(`step-indicator-${currentStep}`).classList.add('active');
    }
}

function validateCurrentStep() {
    const currentStepElement = document.getElementById(`step-${currentStep}`);
    const requiredFields = currentStepElement.querySelectorAll('input[required], select[required], textarea[required]');

    let isValid = true;

    requiredFields.forEach(field => {
        if (!field.value.trim()) {
            field.classList.add('is-invalid');
            isValid = false;
        } else {
            field.classList.remove('is-invalid');
        }
    });

    return isValid;
}

document.getElementById('multi-step-contact-form').addEventListener('submit', function(e) {
    e.preventDefault();

    if (!validateCurrentStep()) {
        return;
    }

    const submitBtn = document.getElementById('submit-btn');
    const originalText = submitBtn.innerHTML;

    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Sending...';
    submitBtn.disabled = true;

    // Collect form data
    const formData = new FormData(this);

    // Send AJAX request
    fetch(this.action, {
        method: 'POST',
        body: formData,
        credentials: 'same-origin'
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Show success message
            document.querySelectorAll('.form-step').forEach(step => {
                step.classList.remove('active');
            });

            document.querySelector('.progress-steps').style.display = 'none';
            document.getElementById('form-response').classList.remove('d-none');
        } else {
            // Show error message
            alert('There was an error sending your message. Please try again or contact us directly.');
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('There was an error sending your message. Please try again or contact us directly.');
    })
    .finally(() => {
        submitBtn.innerHTML = originalText;
        submitBtn.disabled = false;
    });
});

document.querySelectorAll('input[name="service"]').forEach(radio => {
    radio.addEventListener('change', function() {
        document.querySelectorAll('label[for^="service-"]').forEach(label => {
            label.classList.remove('btn-primary');
            label.classList.add('btn-outline-primary');
        });

        if (this.checked) {
            document.querySelector(`label[for="${this.id}"]`).classList.remove('btn-outline-primary');
            document.querySelector(`label[for="${this.id}"]`).classList.add('btn-primary');
        }
    });
});
</script>

<!-- Google Maps API -->
<script async src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApJ2itkMqPnuleXFoQFYm9l5HqxZ1ghDs&callback=initMap&libraries=maps,marker&v=beta"></script>

<script>
function initMap() {
    console.log('Initializing Google Maps...');

    try {
        // Coordinates for 19 Ner Halayla St, Even Yehuda, Israel
        const officeLocation = { lat: 32.2667, lng: 34.8833 };

    // Create the map
    const map = new google.maps.Map(document.getElementById("office-map"), {
        zoom: 15,
        center: officeLocation,
        mapId: "bridgeland_office_map",
        styles: [
            {
                featureType: "all",
                elementType: "geometry.fill",
                stylers: [{ color: "#f8f9fa" }]
            },
            {
                featureType: "water",
                elementType: "geometry.fill",
                stylers: [{ color: "#e3f2fd" }]
            }
        ]
    });

    // Create the marker
    const marker = new google.maps.Marker({
        position: officeLocation,
        map: map,
        title: "Bridgeland Advisors",
        animation: google.maps.Animation.DROP
    });

    // Create info window
    const infoWindow = new google.maps.InfoWindow({
        content: `
            <div style="padding: 10px; font-family: Inter, sans-serif;">
                <h6 style="margin: 0 0 8px 0; color: #8B0000; font-weight: 600;">Bridgeland Advisors</h6>
                <p style="margin: 0 0 8px 0; font-size: 14px; color: #666;">
                    <i class="fas fa-map-marker-alt" style="color: #8B0000; margin-right: 6px;"></i>
                    19 Ner Halayla St.<br>
                    Even Yehuda, Israel
                </p>
                <p style="margin: 0 0 8px 0; font-size: 13px; color: #666;">
                    <i class="fas fa-phone" style="color: #8B0000; margin-right: 6px;"></i>
                    +972-50-6842937
                </p>
                <p style="margin: 0; font-size: 12px; color: #888;">
                    Expert 409A Valuations & Financial Advisory
                </p>
            </div>
        `
    });

    // Show info window when marker is clicked
    marker.addListener("click", () => {
        infoWindow.open(map, marker);
    });

        // Open info window by default
        infoWindow.open(map, marker);

        console.log('✅ Google Maps initialized successfully');

    } catch (error) {
        console.error('Error initializing Google Maps:', error);
        showMapFallback();
    }
}

function showMapFallback() {
    const mapContainer = document.getElementById('office-map');
    if (mapContainer) {
        mapContainer.innerHTML = `
            <div class="d-flex flex-column align-items-center justify-content-center h-100 bg-light">
                <i class="fas fa-map fa-3x text-muted mb-3"></i>
                <h6 class="text-muted mb-2">Map Temporarily Unavailable</h6>
                <p class="text-muted text-center mb-3">19 Ner Halayla St.<br>Even Yehuda, Israel</p>
                <a href="https://maps.google.com/?q=19+Ner+Halayla+St,+Even+Yehuda,+Israel"
                   target="_blank" class="btn btn-primary btn-sm">
                    <i class="fas fa-external-link-alt me-2"></i>View on Google Maps
                </a>
            </div>
        `;
    }
}

// Fallback in case the API fails to load
window.addEventListener('load', function() {
    setTimeout(function() {
        if (typeof google === 'undefined') {
            const mapContainer = document.getElementById('office-map');
            if (mapContainer) {
                mapContainer.innerHTML = `
                    <div class="d-flex flex-column align-items-center justify-content-center h-100 text-center p-4">
                        <i class="fas fa-map fa-3x text-muted mb-3"></i>
                        <h6 class="text-muted mb-2">Map Loading...</h6>
                        <p class="text-muted small mb-3">
                            19 Ner Halayla St.<br>
                            Even Yehuda, Israel
                        </p>
                        <a href="https://maps.google.com/?q=19+Ner+Halayla+St,+Even+Yehuda,+Israel"
                           target="_blank" class="btn btn-outline-primary btn-sm">
                            <i class="fas fa-external-link-alt me-2"></i>View on Google Maps
                        </a>
                    </div>
                `;
            }
        }
    }, 3000);
});
</script>

<style>
.contact-method-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1) !important;
    transition: all 0.3s ease;
}

.map-container {
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.map-container:hover {
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
}

.map-footer {
    border-top: 1px solid #e9ecef;
}

#office-map {
    background-color: #f8f9fa;
}

/* Enhanced Contact Page Styling */
.contact-hero {
    background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
    position: relative;
    overflow: hidden;
}

.hero-pattern {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    opacity: 0.03;
    background-image: url('data:image/svg+xml,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><g fill="%23B91C1C" fill-opacity="0.1"><circle cx="7" cy="7" r="1"/><circle cx="53" cy="53" r="1"/><circle cx="30" cy="30" r="2"/></g></svg>');
}

.contact-highlights .highlight {
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

.contact-highlights .highlight:hover {
    transform: translateY(-2px);
    border-color: var(--color-maroon);
    box-shadow: 0 8px 25px rgba(139, 0, 0, 0.1);
}

.form-card {
    background: #ffffff;
    border-radius: 12px;
    overflow: hidden;
}

.form-card .card-header {
    background: linear-gradient(135deg, var(--color-maroon) 0%, var(--color-maroon-dark) 100%);
    color: white;
}

.form-card .card-header h3 {
    color: white !important;
    margin-bottom: 0.5rem;
}

.form-control:focus {
    border-color: var(--color-maroon);
    box-shadow: 0 0 0 0.25rem rgba(139, 0, 0, 0.25);
}

.form-select:focus {
    border-color: var(--color-maroon);
    box-shadow: 0 0 0 0.25rem rgba(139, 0, 0, 0.25);
}

.office-info .detail-item {
    transition: all 0.3s ease;
    padding: 1rem;
    border-radius: 8px;
}

.office-info .detail-item:hover {
    background-color: #f8f9fa;
    transform: translateX(5px);
}

.progress-steps .step {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
}

.step-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--color-gray-200);
    color: var(--color-gray-600);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    margin-bottom: 0.5rem;
    transition: all 0.3s ease;
}

.step.active .step-number {
    background-color: var(--color-maroon);
    color: white;
}

.step.completed .step-number {
    background-color: var(--color-success);
    color: white;
}

.step-label {
    font-size: 0.875rem;
    color: var(--color-gray-600);
    font-weight: 500;
}

.step.active .step-label,
.step.completed .step-label {
    color: var(--color-maroon);
}

.step-line {
    flex: 1;
    height: 2px;
    background-color: var(--color-gray-200);
    margin: 0 1rem;
    align-self: flex-start;
    margin-top: 20px;
}

.form-step {
    display: none;
}

.form-step.active {
    display: block;
}

.service-options .btn-check:checked + .btn {
    background-color: var(--color-maroon) !important;
    border-color: var(--color-maroon) !important;
    color: white !important;
}

.service-options .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.is-invalid {
    border-color: var(--color-error) !important;
    box-shadow: 0 0 0 0.25rem rgba(211, 47, 47, 0.25) !important;
}

@media (max-width: 768px) {
    .progress-steps .d-flex {
        flex-direction: column;
        gap: 1rem;
    }

    .step-line {
        width: 2px;
        height: 30px;
        margin: 0.5rem 0;
    }
}
</style>

<?php get_footer(); ?>